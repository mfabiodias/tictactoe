(this.webpackJsonptictactoe=this.webpackJsonptictactoe||[]).push([[0],{37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(14),r=n.n(a),i=n(3),u=function(e,t,n){return e?"E"!==e?"".concat(e===n?"M\xe1quina":"Voc\xea"," venceu!"):"Empatou!":t===n?"\xc9 a vez da m\xe1quina!":"\xc9 a sua vez!"},o=n(4),s=n.n(o),l=(n(37),n(0));var f=function(){var e=Array(9).fill(""),t=["O","X"],n="X",a=Object(c.useState)(e),r=Object(i.a)(a,2),o=r[0],f=r[1],h=Object(c.useState)(t[Number(!t.indexOf(n))]),j=Object(i.a)(h,2),d=j[0],b=j[1],O=Object(c.useState)(null),m=Object(i.a)(O,2),p=m[0],v=m[1],x=Object(c.useState)("1"),g=Object(i.a)(x,2),N=g[0],E=g[1],y=Object(c.useState)(null),k=Object(i.a)(y,2),M=k[0],S=k[1],X="http://localhost",w=3001,C=function(e){s.a.put("".concat(X,":").concat(w,"/api/user/").concat(e)).then((function(e){S(e.data)}))},J=function(e){if(p||""!==o[e])return null;f(o.map((function(t,n){return n===e?d:t}))),b(t[Number(!t.indexOf(d))])},V=function(){var e=function(e,t){var n=[],c=[],a=[],r={1:[],2:[],3:[]},i={1:[],2:[],3:[]},u=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[2,4,6],[0,4,8]];e.forEach((function(e,t){"O"===e?c.push(t):"X"===e?n.push(t):""===e&&a.push(t)}));var o=u.filter((function(e,t){return!e.filter((function(e){return c.includes(e)})).length}));(o=o.map((function(e,t){return e.filter((function(e){return a.includes(e)}))}))).forEach((function(e){e.length&&r[e.length].push(e)}));var s,l=u.filter((function(e,t){return!e.filter((function(e){return n.includes(e)})).length}));return(l=l.map((function(e,t){return e.filter((function(e){return a.includes(e)}))}))).forEach((function(e){e.length&&i[e.length].push(e)})),i[1].length&&(r[1]=i[1]),console.log("Level ".concat(t," ativo!")),(s=1===parseInt(t)?a:2===parseInt(t)||n.includes(4)||c.includes(4)?r[1].length?r[1].flat(1):r[2].length?r[2].flat(1):r[3].length?r[3].flat(1):a:[4])[Math.floor(Math.random()*s.length)]}(o,N);J(e)},q=function(){b("E"!==p&&p?p:t[Number(!t.indexOf(n))]),f(e),v(null)};return Object(c.useEffect)((function(){M||S(void s.a.get("".concat(X,":").concat(w,"/api/users")).then((function(e){S(e.data)})));var e="";(function(e){return[[e[0],e[1],e[2]],[e[3],e[4],e[5]],[e[6],e[7],e[8]],[e[0],e[3],e[6]],[e[1],e[4],e[7]],[e[2],e[5],e[8]],[e[2],e[4],e[6]],[e[0],e[4],e[8]]]})(o).forEach((function(t){t.every((function(e){return"X"===e}))?(v(e="X"),C("robot")):t.every((function(e){return"O"===e}))&&(e="O",C("user"),v(e))})),e||(o.every((function(e){return""!==e}))?v("E"):d===n&&V())}),[o,d]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{className:"title",children:"Jogo da Velha"}),Object(l.jsxs)("select",{className:"custom-select",onChange:function(e){E(e.target.value),q()},defaultValue:N,children:[Object(l.jsx)("option",{value:"1",children:"F\xe1cil"}),Object(l.jsx)("option",{value:"2",children:"M\xe9dio"}),Object(l.jsx)("option",{value:"3",children:"Dif\xedcil"})]}),Object(l.jsx)("div",{className:"users",children:!!M&&M.map((function(e,t){return Object(l.jsxs)("div",{className:"name ".concat(e.name),children:["user"===e.name?"Voc\xea":"M\xe1quina",": ",e.score]},t)}))})]}),Object(l.jsx)("main",{children:Object(l.jsx)("div",{className:"board ".concat(p?"game-over":""),children:o.map((function(e,t){return Object(l.jsx)("div",{className:"cell ".concat(e),onClick:function(){return J(t)},children:e},t)}))})}),Object(l.jsxs)("footer",{children:[Object(l.jsx)("h2",{className:"winner-message",children:Object(l.jsx)("span",{className:p||"player ".concat(d),children:u(p,d,n)})}),p&&Object(l.jsxs)("section",{className:"container space-between",children:[Object(l.jsx)("div",{className:"item",children:Object(l.jsx)("button",{className:"reset-button",onClick:q,children:"Recome\xe7ar o Jogo"})}),Object(l.jsx)("div",{className:"item",children:Object(l.jsx)("button",{className:"reset-game",onClick:function(){s.a.get("".concat(X,":").concat(w,"/api/user/reset")).then((function(e){S(e.data)}))},children:"Zerar pontua\xe7\xe3o"})})]})]})]})};r.a.render(Object(l.jsx)(f,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.ebddfdf5.chunk.js.map